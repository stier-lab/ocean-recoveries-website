---
import Layout from '@layouts/Layout.astro';
import { researchThemes } from '@data/research';
---

<Layout
  title="Research"
  description="Ocean Recoveries Lab research themes: coral reefs, kelp forests, and organismal mechanisms."
>
  <!-- Hero -->
  <section class="relative py-20 md:py-28 overflow-hidden">
    <div
      class="absolute inset-0 bg-cover bg-center"
      style="background-image: url('/images/tropical-island-split-view-coral-reef-shark.jpeg');"
    >
      <div class="absolute inset-0 bg-ink/60"></div>
    </div>

    <div class="relative container text-center text-white">
      <span class="eyebrow text-white/70">Our Research</span>
      <h1 class="text-white mb-4">Understanding Ocean Resilience</h1>
      <p class="text-xl text-white/80 max-w-2xl mx-auto">
        We combine field experiments, mathematical models, and molecular approaches to understand
        how marine ecosystems recover from disturbance â€” and how we can help them along.
      </p>
    </div>
  </section>

  <!-- Research Approach -->
  <section class="section bg-surface dark:bg-dark-surface">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center mb-16 scroll-reveal">
        <h2 class="mb-6">Our Approach</h2>
        <p class="lead">
          Ocean ecosystems face unprecedented challenges from climate change, overfishing, and
          habitat degradation. Our lab tackles these challenges through three interconnected
          research themes, working from ecosystem dynamics down to molecular mechanisms.
        </p>
      </div>

      <!-- Approach pillars -->
      <div class="grid md:grid-cols-3 gap-8 mb-16">
        <div class="approach-card scroll-reveal stagger-1">
          <div class="approach-icon">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
            </svg>
          </div>
          <h3 class="text-lg font-bold mb-2">Field Experiments</h3>
          <p class="text-sm text-muted dark:text-dark-muted">
            Long-term manipulative experiments in coral reefs and kelp forests reveal cause-and-effect
            relationships that observational studies cannot.
          </p>
        </div>

        <div class="approach-card scroll-reveal stagger-2">
          <div class="approach-icon">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
            </svg>
          </div>
          <h3 class="text-lg font-bold mb-2">Mathematical Models</h3>
          <p class="text-sm text-muted dark:text-dark-muted">
            Dynamical models and simulations help us understand complex ecosystem dynamics and
            evaluate potential management strategies.
          </p>
        </div>

        <div class="approach-card scroll-reveal stagger-3">
          <div class="approach-icon">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
            </svg>
          </div>
          <h3 class="text-lg font-bold mb-2">Molecular Tools</h3>
          <p class="text-sm text-muted dark:text-dark-muted">
            Genomic and physiological approaches reveal the mechanisms underlying organism-level
            responses to environmental change.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Research Themes -->
  <section class="section bg-line/30 dark:bg-dark-line/20">
    <div class="container">
      <div class="text-center mb-12 scroll-reveal">
        <span class="eyebrow">Research Themes</span>
        <h2>What We Study</h2>
      </div>

      <div class="space-y-8">
        {researchThemes.map((theme, i) => (
          <a
            href={`/research/${theme.slug}`}
            class={`theme-row scroll-reveal ${i % 2 === 1 ? 'md:flex-row-reverse' : ''}`}
          >
            <div class="theme-image img-zoom">
              <img src={theme.heroImage} alt={theme.title} loading="lazy" />
            </div>
            <div class="theme-content">
              <span class="eyebrow">{`Theme ${i + 1}`}</span>
              <h3 class="text-2xl font-bold mb-3 text-ink dark:text-dark-ink group-hover:text-accent">
                {theme.title}
              </h3>
              <p class="text-muted dark:text-dark-muted mb-4">{theme.tagline}</p>
              <span class="inline-flex items-center gap-2 text-accent dark:text-dark-accent font-semibold">
                Learn more
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </span>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Collaborators CTA -->
  <section class="section bg-surface dark:bg-dark-surface">
    <div class="container">
      <div class="cta-card scroll-reveal">
        <div class="cta-content">
          <h2 class="text-2xl font-bold mb-4">Interested in Collaborating?</h2>
          <p class="text-muted dark:text-dark-muted mb-6">
            We work with researchers, conservation organizations, and communities worldwide.
            If you're interested in partnering on research or applying our findings to your work,
            we'd love to hear from you.
          </p>
          <a href="mailto:adrian.stier@ucsb.edu" class="btn btn-primary">
            Get in Touch
          </a>
        </div>
        <div class="cta-image">
          <img
            src="/images/research-team-boats-turquoise-lagoon.webp"
            alt="Research team in the field"
            loading="lazy"
          />
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  .approach-card {
    @apply bg-white dark:bg-dark-card p-6 rounded-lg border border-line dark:border-dark-line;
    @apply transition-all duration-300;
  }

  .approach-card:hover {
    @apply -translate-y-1 shadow-lg;
  }

  .approach-icon {
    @apply w-14 h-14 rounded-xl mb-4;
    @apply bg-accent/10 dark:bg-dark-accent/20 text-accent dark:text-dark-accent;
    @apply flex items-center justify-center;
  }

  .theme-row {
    @apply flex flex-col md:flex-row gap-6 p-4 rounded-xl;
    @apply bg-white dark:bg-dark-card border border-line dark:border-dark-line;
    @apply transition-all duration-300 no-underline group;
  }

  .theme-row:hover {
    @apply -translate-y-1 shadow-lg border-accent/30;
  }

  .theme-image {
    @apply w-full md:w-2/5 aspect-video md:aspect-[4/3] rounded-lg overflow-hidden flex-shrink-0;
  }

  .theme-image img {
    @apply w-full h-full object-cover;
  }

  .theme-content {
    @apply flex flex-col justify-center py-4;
  }

  .cta-card {
    @apply flex flex-col md:flex-row gap-8 p-8 rounded-xl;
    @apply bg-line/30 dark:bg-dark-line/20 border border-line dark:border-dark-line;
  }

  .cta-content {
    @apply flex-1 flex flex-col justify-center;
  }

  .cta-image {
    @apply w-full md:w-2/5 aspect-video rounded-lg overflow-hidden;
  }

  .cta-image img {
    @apply w-full h-full object-cover;
  }
</style>
